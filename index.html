<!DOCTYPE html>
<html lang="en">
<head>
  <title>Embeddable Clock Widget</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --bg-tertiary: #334155;
      --text-primary: #f8fafc;
      --text-secondary: #94a3b8;
      --accent-color: #38bdf8;
      --accent-hover: #0ea5e9;
      --border-color: #334155;
      --surface-glass: rgba(30, 41, 59, 0.7);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      /* Noise Texture */
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
    }

    /* Typography */
    h1, h2, h3 {
      font-weight: 700;
      letter-spacing: -0.025em;
    }

    a {
      color: var(--accent-color);
      text-decoration: none;
      transition: color 0.2s;
    }
    a:hover { color: var(--accent-hover); }

    /* Layout */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      width: 100%;
    }

    /* Header */
    header {
      padding: 2rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(12px);
      position: sticky;
      top: 0;
      z-index: 50;
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .brand {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .view-toggles {
      display: flex;
      background: var(--bg-secondary);
      padding: 4px;
      border-radius: 8px;
      border: 1px solid var(--border-color);
    }

    .view-toggle-btn {
      background: transparent;
      border: none;
      color: var(--text-secondary);
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 500;
    }

    .view-toggle-btn.active {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      box-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }

    /* Hero */
    .hero {
      padding: 4rem 0;
      text-align: center;
    }
    
    .hero h1 {
      font-size: 3.5rem;
      background: linear-gradient(to right, #fff, #94a3b8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 1rem;
      text-shadow: 0 0 30px rgba(255,255,255,0.1);
    }
    
    .hero p {
      font-size: 1.25rem;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto;
    }

    /* Configurator */
    .configurator {
      flex: 1;
      padding: 2rem 0;
      transition: all 0.3s ease;
    }

    /* Split Layout Styles */
    .layout-split .configurator-grid {
      display: grid;
      grid-template-columns: 350px 1fr;
      gap: 2rem;
      align-items: start;
    }

    .layout-split .preview-pane {
      position: sticky;
      top: 100px;
    }

    /* Stacked Layout Styles */
    .layout-stacked .configurator-grid {
      display: flex;
      flex-direction: column-reverse;
      gap: 3rem;
      max-width: 800px;
      margin: 0 auto;
    }
    
    .layout-stacked .controls-pane {
      width: 100%;
    }

    /* Panels with Premium Glass Effect */
    .panel {
      background: rgba(30, 41, 59, 0.6);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-top: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }

    .controls-pane h3 {
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
      color: var(--text-primary);
    }

    .control-group {
      margin-bottom: 2rem;
    }
    
    .control-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--text-secondary);
      margin-bottom: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* Theme Buttons with Swatches */
    .theme-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.5rem;
    }

    .theme-btn {
      background: var(--bg-tertiary);
      border: 2px solid transparent;
      color: var(--text-secondary);
      padding: 0.75rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.875rem;
      text-align: left;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .theme-swatch {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      display: inline-block;
      box-shadow: 0 0 4px rgba(0,0,0,0.3);
    }

    .theme-btn:hover {
      background: rgba(255,255,255,0.08);
    }

    .theme-btn.active {
      border-color: var(--accent-color);
      color: var(--text-primary);
      background: rgba(56, 189, 248, 0.1);
    }

    .segment-control {
      display: flex;
      background: var(--bg-primary);
      padding: 4px;
      border-radius: 8px;
      gap: 4px;
      border: 1px solid rgba(255,255,255,0.05);
    }

    .segment-btn {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--text-secondary);
      padding: 8px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.875rem;
      font-weight: 500;
      transition: all 0.2s;
    }

    .segment-btn.active {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      box-shadow: 0 1px 2px rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.05);
    }

    select.modern-select {
      width: 100%;
      background: var(--bg-primary);
      color: var(--text-primary);
      border: 1px solid var(--border-color);
      padding: 0.75rem;
      border-radius: 8px;
      font-family: inherit;
      font-size: 0.875rem;
      cursor: pointer;
      outline: none;
    }
    select.modern-select:focus {
      border-color: var(--accent-color);
    }

    /* Preview Area */
    .preview-pane {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .preview-stage {
      background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
      border: 1px solid var(--border-color);
      border-radius: 24px;
      min-height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      box-shadow: inset 0 0 40px rgba(0,0,0,0.5);
    }
    
    /* Grid pattern for preview background */
    .preview-stage::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background-image: linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                        linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
      background-size: 20px 20px;
      z-index: 0;
    }

    .code-block {
      background: #0d1117;
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 1.5rem;
      position: relative;
    }

    .code-block pre {
      color: #e6edf3;
      font-family: 'Monaco', 'Consolas', monospace;
      font-size: 0.875rem;
      overflow-x: auto;
      white-space: pre-wrap;
    }

    .copy-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: var(--bg-tertiary);
      border: none;
      color: var(--text-secondary);
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .copy-btn:hover {
      background: var(--accent-color);
      color: #fff;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 2rem;
      border-top: 1px solid rgba(255,255,255,0.05);
      color: var(--text-secondary);
      font-size: 0.875rem;
    }

    @media (max-width: 768px) {
      .layout-split .configurator-grid {
        grid-template-columns: 1fr;
      }
      .hero h1 { font-size: 2.5rem; }
      .header-content { flex-direction: column; gap: 1rem; }
    }
  </style>
</head>
<body class="layout-split">

  <header>
    <div class="container header-content">
      <div class="brand">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
        Embeddable Clock
      </div>
      <div class="view-toggles">
        <button class="view-toggle-btn active" onclick="setLayout('split')">Split View</button>
        <button class="view-toggle-btn" onclick="setLayout('stacked')">Stacked View</button>
      </div>
    </div>
  </header>

  <div class="container hero">
    <h1>Time, Redefined.</h1>
    <p>A modern, highly customizable clock widget for your web projects.</p>
  </div>

  <main class="container configurator">
    <div class="configurator-grid">
      
      <!-- Left Panel: Controls -->
      <div class="controls-pane panel">
        <h3>Configuration</h3>

        <div class="control-group">
          <label class="control-label">Theme</label>
          <div class="theme-grid">
            <button class="theme-btn active" onclick="setOption('theme', 'cyber-green')">
              <span class="theme-swatch" style="background: #0f0; box-shadow: 0 0 5px #0f0;"></span> Cyber Green
            </button>
            <button class="theme-btn" onclick="setOption('theme', 'neon-blue')">
              <span class="theme-swatch" style="background: #00f7ff; box-shadow: 0 0 5px #00f7ff;"></span> Neon Blue
            </button>
            <button class="theme-btn" onclick="setOption('theme', 'retro-red')">
              <span class="theme-swatch" style="background: #ff0043; box-shadow: 0 0 5px #ff0043;"></span> Retro Red
            </button>
            <button class="theme-btn" onclick="setOption('theme', 'minimal-white')">
              <span class="theme-swatch" style="background: #fff; box-shadow: 0 0 5px #fff;"></span> Minimal
            </button>
            <button class="theme-btn" onclick="setOption('theme', 'matrix')">
              <span class="theme-swatch" style="background: #00ff41;"></span> Matrix
            </button>
            <button class="theme-btn" onclick="setOption('theme', 'vapor-wave')">
              <span class="theme-swatch" style="background: linear-gradient(45deg, #ff71ce, #01cdfe);"></span> Vapor
            </button>
            <button class="theme-btn" onclick="setOption('theme', 'sunset')">
              <span class="theme-swatch" style="background: linear-gradient(to bottom, #ff6b6b, #feca57);"></span> Sunset
            </button>
            <button class="theme-btn" onclick="setOption('theme', 'synthwave')">
              <span class="theme-swatch" style="background: linear-gradient(to bottom, #ff00ff, #00ffff);"></span> Synthwave
            </button>
          </div>
        </div>

        <div class="control-group">
          <label class="control-label">Size</label>
          <div class="segment-control">
            <button class="segment-btn" onclick="setOption('size', 'small')">Small</button>
            <button class="segment-btn active" onclick="setOption('size', 'medium')">Medium</button>
            <button class="segment-btn" onclick="setOption('size', 'large')">Large</button>
            <button class="segment-btn" onclick="setOption('size', 'extra-large')">XL</button>
          </div>
        </div>

        <div class="control-group">
          <label class="control-label">Format</label>
          <div class="segment-control">
            <button class="segment-btn active" onclick="setOption('format', '12h')">12-Hour</button>
            <button class="segment-btn" onclick="setOption('format', '24h')">24-Hour</button>
          </div>
        </div>

        <div class="control-group">
          <label class="control-label">Seconds</label>
          <div class="segment-control">
            <button class="segment-btn active" onclick="setOption('showSeconds', 'true')">Show</button>
            <button class="segment-btn" onclick="setOption('showSeconds', 'false')">Hide</button>
          </div>
        </div>

        <div class="control-group">
          <label class="control-label">Timezone</label>
          <select class="modern-select" onchange="setOption('timezone', this.value)">
             <option value="">Local Time (Default)</option>
             <option value="UTC">UTC</option>
             <option value="America/New_York">New York (EST/EDT)</option>
             <option value="Europe/London">London (GMT/BST)</option>
             <option value="Asia/Tokyo">Tokyo (JST)</option>
             <option value="Australia/Sydney">Sydney (AEST/AEDT)</option>
             <option value="America/Los_Angeles">Los Angeles (PST/PDT)</option>
          </select>
        </div>
      </div>

      <!-- Right Panel: Preview -->
      <div class="preview-pane">
        <div class="preview-stage">
          <div id="interactive-clock" 
               data-theme="cyber-green" 
               data-size="medium" 
               data-format="12h" 
               data-show-seconds="true"></div>
        </div>

        <div class="code-block">
          <button class="copy-btn" onclick="copyCode()">Copy HTML</button>
          <pre><code id="embed-code"></code></pre>
        </div>
      </div>

    </div>
  </main>

  <footer>
    <p>Â© 2024 Embeddable Clock Widget. Open Source.</p>
  </footer>

  <script src="embeddable-clock.js"></script>
  <script>
    // State Management
    const state = {
      theme: 'cyber-green',
      size: 'medium',
      format: '12h',
      showSeconds: 'true',
      timezone: ''
    };

    function setLayout(layoutName) {
      document.body.className = `layout-${layoutName}`;
      
      // Update toggle buttons
      document.querySelectorAll('.view-toggle-btn').forEach(btn => {
        btn.classList.toggle('active', btn.textContent.toLowerCase().includes(layoutName));
      });
    }

    function setOption(key, value) {
      state[key] = value;
      
      // Update UI buttons
      if (key !== 'timezone') {
        // Find the group (assumes structure: control-group -> div -> buttons)
        // This is a bit loose but works for this specific DOM structure
        const buttons = document.querySelectorAll(`button[onclick*="'${key}'"]`);
        buttons.forEach(btn => {
          // Check if this button corresponds to the value we just set
          const isMatch = btn.getAttribute('onclick').includes(`'${value}'`);
          btn.classList.toggle('active', isMatch);
        });
      }

      updateClock();
    }

    function updateClock() {
      const clock = document.getElementById('interactive-clock');
      const codeBlock = document.getElementById('embed-code');

      // Update DOM attributes
      clock.dataset.theme = state.theme;
      clock.dataset.size = state.size;
      clock.dataset.format = state.format;
      clock.dataset.showSeconds = state.showSeconds;
      
      if (state.timezone) {
        clock.dataset.timezone = state.timezone;
      } else {
        delete clock.dataset.timezone;
      }

      // Trigger widget update
      if (window.updateClockWidget) {
        window.updateClockWidget(clock);
      }

      // Generate Embed Code
      let html = `<div class="embeddable-clock"
     data-theme="${state.theme}"
     data-size="${state.size}"
     data-format="${state.format}"`;

      if (state.showSeconds === 'false') {
        html += `\n     data-show-seconds="false"`;
      }
      
      if (state.timezone) {
        html += `\n     data-timezone="${state.timezone}"`;
      }

      html += `></div>\n<script src="embeddable-clock.js"><\/script>`;
      
      codeBlock.textContent = html;
    }

    function copyCode() {
      const code = document.getElementById('embed-code').textContent;
      navigator.clipboard.writeText(code).then(() => {
        const btn = document.querySelector('.copy-btn');
        const originalText = btn.textContent;
        btn.textContent = 'Copied!';
        btn.style.background = '#22c55e';
        btn.style.color = '#fff';
        
        setTimeout(() => {
          btn.textContent = originalText;
          btn.style.background = '';
          btn.style.color = '';
        }, 2000);
      });
    }

    // Initial Render
    updateClock();
  </script>
</body>
</html>
